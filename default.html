<!doctype html>
<html>
    
<head>
<meta charset = "utf-8">
<title>amicable numz</title>
    
    <style type = "text/css"></style>
    
    <!---------------------- SCRIPT START ---------------------->
    <script language = "javascript"> 
        
            window.onload = function()
            {
                document.getElementById("show-data").onclick = function() 
                {
                    firstNumber = document.form1.firstNumber.value; 
                    result = "first number: " + firstNumber + "<br />";
                    
                    secNumber = document.form1.secNumber.value; 
                    result += "second number: " + secNumber + "<br />";
                    
                    document.getElementById("num_info").innerHTML = result;
                    
                    checkAmicable(firstNumber, secNumber);
                    
                    function checkAmicable(firstNumber, secNumber)
                    {   
                        var firstNum_array = getFactors(firstNumber);
                        showArray(firstNum_array, firstNumber);
                        var firstNum_sum = addArray(firstNum_array, firstNumber);
                        
                        var secNum_array = getFactors(secNumber);
                        showArray(secNum_array, secNumber);
                        var secNum_sum = addArray(secNum_array, secNumber);
                    
                        if (firstNum_sum == secNumber && secNum_sum == firstNumber) 
                        {
                            txt_amicable = "the numbers " + firstNumber + " and " + secNumber + " are amicable.";
                            document.getElementById("is_amicable").innerHTML = txt_amicable;
                                
                        }
                        else 
                        {
                            txt_amicable = "the numbers " + firstNumber + " and " + secNumber + " are NOT amicable.";
                            document.getElementById("is_amicable").innerHTML = txt_amicable;
                        }                       
                    }
                }
                
                /*********************** TEST CODE ***********************
                //isFactor(20, 10); /* returns true
                //isFactor(20, 3);  /* returns false
                
                if (isFactor) {
                    alert("isFactor is true");
                } else {
                    alert("isFactor is false");
                } 
                ************************ TEST CODE ***********************/
                
                
                /*********************** TEST CODE ***********************
                var numzzz = [1, 2, 3, 4];
                showArray(numzzz);
                addArray(numzzz);
                //************************ TEST CODE ***********************/
                
                
                /*********************** TEST CODE ***********************
                // test getFactors() by passing in a number, use showArray() 
                // to see complete list of factors
                //getFactors(10);
                ************************ TEST CODE ***********************/
                
            }
            
            /************************************************************/
            
            // does: sees if second number is a factor of the first number 
            // returns: return true or false
            function isFactor(number, factor) {
                var isFactor = true;
                
                if (number%factor == 0){
                    isFactor = true;
                    //alert("true");
                } else {
                    isFactor = false;
                    //alert("false");
                }
                
                return isFactor;
            }
        
            /************************************************************/
        
            // does: displays all of its items in a div on the page
            // returns: nothing
            function showArray(array, arrayOf) 
            {
                txt_index.innerHTML += "the factors of " + arrayOf + ": ";
                txt_index.innerHTML += "[ ";
                for (i = 0; i < array.length; i++) {
                    txt_index.innerHTML += array[i] + "  ";
                }     
                
                txt_index.innerHTML += "]" + "<br />";
            }
        
            /************************************************************/
            
            // does: adds up all the elements in an array
            // returns: sum of all elements in array 
            function addArray(array, arrayOf) {
                var sum = 0;
                for (i = 0; i < array.length; i++) {
                    sum += array[i];
                }
                
                sumz.innerHTML += "the sum of the factors of " + arrayOf + " is: " + sum + "<br />";
                return sum;
            }
        
            /************************************************************/
        
            // does: stores all the factors of number in an array
            // returns: the array of factors 
            // * all commented out code is for testing purposes * //
            function getFactors(number) {
                var factor = 1;
                var factor_array = [];
                
                while(factor < number) 
                {
                    // alert("in while");
                    // alert("the factor is " + factor);
                    
                    if (number%factor == 0) isFactor = true; 
                    else isFactor = false;
        
                    if (isFactor == true) {
                        factor_array.push(factor);
                        //alert("factor pushed");
                    } 
                    // else 
                    // {
                    //     alert("breaking");
                    // }
                    factor++;
                    //alert("factor ++");
                }
                //showArray(factor_array);
                return factor_array;
            }
    
    </script>
    <!---------------------- SCRIPT END ---------------------->
    
</head>

<body style="background-color: #F8F6F2; 
             font-family: didot; 
             margin-left: 30px;
             margin-right: 30px;
             margin-top: 30px;">
    
    <center><h1 style = "font-family: didot">IS IT AMICABLE?</h1></center>
    <center>amicable numbers are a pair of numbers whose factors (excluding themselves) add up to each other. use this site to see information about two numbers of your choice: what their factors are, the sum of their factors, and if they are amicable or not.</center> <br /> <br>
    
    <form name = "form1"> 
       
        first, enter one number: <input type = "text" 
                                   name = "firstNumber" 
                                   id = "num-1"
                                   style = "font-family: didot;"> <br /> <br>
        
        then, enter the second number: <input type = "text" 
                                    name = "secNumber" 
                                    id = "num-2"
                                    style = "font-family: didot;"> <br /> <br> 
        
        <input style = "background-color: #86ae72; 
                        font-family: didot; 
                        padding: 5px 18px; 
                        border-color:#657c5a;" 
               type = "button" value = "show data" id = "show-data"> 
   
    </form> 
    
    <br><hr>
    
    NUMBERS GIVEN:
    <div id = "num_info"></div> <hr>
    FACTORS OF THE TWO NUMBERS: <br />
    <div id = "txt_index"></div> <hr>
    THE SUMS OF THE TWO NUMBERS:  <br />
    <div id = "sumz"></div> <hr>
    ARE THEY AMICABLE? 
    <div style = "font-weight: 700px; font-size: 30px;" id = "is_amicable"></div>

    
</body>
</html>